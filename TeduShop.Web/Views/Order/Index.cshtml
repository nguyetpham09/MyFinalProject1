@model TeduShop.Web.Infrastructure.Core.PaginationSet<TeduShop.Web.Models.OrderInformationViewModel>

@{
    var pageIndex = Model.Page;
    
    ViewBag.Title = "Lịch sử mua hàng";
    Layout = "~/Views/Shared/Layouts.cshtml";
}
<div class="single_top">
    <div class="single_grid">
        <div id="cartContent">
            <h3><b>LỊCH SỬ MUA HÀNG</b></h3>
            @if (Model.Count > 0)
            {
                <table class="table">


                    @foreach (var item in Model.Items)
                    {
                        <tr>
                            <td>
                                <img src="@Html.DisplayFor(modelItem => item.ProductImage)" style="width:50px;" />
                            </td>
                            <td>

                                <div class="item-view col-xs-12 mb-3 product-card">
                                    <div class="col-xs-8">
                                        <div class="product-title" style="font-weight:bold; font-size:16px;">@Html.DisplayFor(modelItem => item.ProductName)</div>
                                        <div><span style="font-weight:bold;">Địa chỉ nhận hàng:</span> @Html.DisplayFor(modelItem => item.CustomerAddress); <span style="font-weight:bold;">Xã/phường: </span>@Html.DisplayFor(modelItem => item.AddressWard);<span style="font-weight:bold;">Quận/huyện: </span> @Html.DisplayFor(modelItem => item.AddressDistrict); <span style="font-weight:bold;"> Tỉnh/TP:</span> @Html.DisplayFor(modelItem => item.AddressCity)  </div>
                                        <div> <span style="font-weight:bold;">Số lượng: </span>@Html.DisplayFor(modelItem => item.Quantity)</div>
                                    </div>
                                    <div class="col-xs-4">
                                        <div><span style="font-weight:bold;"> Mã đơn hàng:</span> @Html.DisplayFor(modelItem => item.OrderId)</div>
                                        <div><span style="font-weight:bold;">Mã vận đơn: </span> @Html.DisplayFor(modelItem => item.ShipmentId)</div>
                                        <div style="color:coral;">
                                            <span style="font-weight:bold;"> Giá sản phẩm: </span>
                                            @Html.DisplayFor(modelItem => item.TotalPrice)
                                        </div>

                                        <div style="color:coral;">
                                            <span style="font-weight:bold;"> Thành tiền: </span>
                                            @Html.DisplayFor(modelItem => item.Total)
                                        </div>

                                    </div>
                                    <div class="col-xs-12">
                                        <span style="font-weight:bold;">Ngày mua: </span>@Html.DisplayFor(modelItem => item.CreatedDate)
                                    </div>
                                </div>

                            </td>
                        </tr>
                    }

                </table>
                <div class="clearfix"> </div>
                if (Model.TotalPages > 1)
                {
                    // Create numeric links
                    var startPageIndex = Math.Max(1, Model.Page - Model.MaxPage / 2);
                    var endPageIndex = Math.Min(Model.TotalPages, Model.Page + Model.MaxPage / 2);

                    <nav>
                        <ul class="pagination">
                            @if (Model.Page > 1)
                            {
                                <li>
                                    <a href="?page=1" aria-label="First">
                                        <i class="fa fa-angle-double-left"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="?page=@(Model.Page-1)" aria-label="Previous">
                                        <i class="fa fa-angle-double-left"></i>
                                    </a>
                                </li>
                            }

                            @for (int i = startPageIndex; i <= endPageIndex; i++)
                            {
                                if (Model.Page == i)
                                {
                                    <li class="active"><a href="?page=@i" title="Trang @i">@i</a></li>
                                }
                                else
                                {
                                    <li><a href="?page=@i" title="Trang @i">@i</a></li>
                                }
                            }
                            @if (Model.Page < Model.TotalPages)
                            {
                                <li>
                                    <a href="?page=@(Model.Page+1)" aria-label="Next">
                                        <i class="fa fa-angle-double-right"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="?page=@Model.TotalPages" aria-label="Last">
                                        <i class="fa fa-angle-double-right"></i>
                                    </a>
                                </li>
                            }
                        </ul>
                    </nav>
                }
            }
            else
            {
                <div class="text-center">Không có bản ghi nào được tìm thấy</div>
            }

        </div>
        
    </div>

    </div>